
<font align = center>

**[utils](#utils)** | **[stat things](#stats)** | **[dumb things](#dumb)**

</font>

---

```{r knitr/r stuff, include=FALSE}
library(knitr)
options(figure_counter = TRUE)
opts_chunk$set(dev = 'png',
               # dev.args = list(type = 'cairo'),
               dpi = 96)
opts_knit$set(eval.after = 'fig.cap')
knit_hooks$set(plot = function(x, options) {
  fig_fn = paste0(opts_knit$get('base.url'),
                  paste(x, collapse = '.'))
  fig.cap <- knitr:::.img.cap(options)
  style = c('display:block',
            sprintf('margin: %s;',
                    switch(options$fig.align,
                           left = 'auto auto auto 0',
                           center = 'auto',
                           right = 'auto 0 auto auto')))
  addon_args = ''
  fig_number_txt <- ''
  cntr <- getOption('figure_counter', FALSE)
  if (cntr != FALSE) {
    if (is.logical(cntr))
      cntr <- 1
    fig_number_txt <- 
      sprintf(getOption('figure_counter_str', 'Figure %s: '),
              ifelse(getOption('figure_counter_roman', FALSE),
                     as.character(as.roman(cntr)), as.character(cntr)))
    if (is.numeric(cntr))
      options(figure_counter = cntr + 1)
  }
  paste0("<figure><img src='", fig_fn, "'"," ", addon_args,
         paste0(" style='", paste(style, collapse = '; '), "'"),'>',
         '<figcaption>', fig_number_txt, fig.cap, '</figcaption></figure>')
})
```

```{r}
library(rawr)
```

### <a id = 'utils'>some rawr utilities</a>

```{r rawr utils, out.width=100}
options(width = 100)
## load packages silently

## ? try_require
try_require(Hmisc) # Hmisc is stupidly noisy


## search functions for data frames and R history

## ?search.hist

## ?search.df
df <- within(mtcars, make <- rownames(mtcars))
search.df(110, df, hp)
search.df('Posch', df, make, var = 1) # inexact matching
## data frame, matrix, vector recoder

## ?recoder
ht(recoder(mtcars, c(6, 1, 110), NA), sep = '...')
## ruby || analoge

## ?oror
NULL || TRUE
NULL %||% TRUE
## inside interval

## ?inside
1:5 %inside% c(3,7)
## negation of ?'%in%'

## ?notin
1:5 %ni% c(3,7)
## concatenate a named list

## ?clist
clist(list(a = 1, b = 2))
## more information from ls()

## ?lss
lst <- list()
mat <- matrix(1:9, 3)
lss()
## generalized ?identical for > 2 objects

## ?ident
ident(.GlobalEnv, environment(), globalenv(), as.environment(1))
## apply list of functions

## ?fapply
fapply(mtcars, list(min, mean, max, length))
```

### <a id = 'stats'>stat things</a>

```{r rawr stat}
## binomial confidence interval formatter

## ?binconr
list(binconr(5, 10, .90, est = FALSE),
     binconr(45, 53, .95, digits = 1))
## interval formatter

## ?intr
list(intr(mtcars$mpg),
     intr(mtcars$mpg, conf = .95))
## rounding formatter

## ?roundr
roundr(c(-0.0002, 0.0002, 0.5, -0.5, -0.002), digits = 3)
## p-value formatter

## ?pvalr
pvals <- c(.13354, .060123, .004233, .00000016223)
pvalr(pvals, digits = 3)
## simon two-stage designs

## ?simon2
simon2(p0low = .55, p0high = .6, p1low = .75, ntmax = 45, beta.max = .1)
## binomial confidence intervals

## ?bincon
bincon(0:10, 10)
## single-stage exact binomial designs

## ?bintest
bintest(p0low = .2, p1low = .5, n.max  = 25)
## coefficient of variation power test

## ?power.cv
power.cv(n = NULL, f = 1.25, cv = .2, sig.level = .05, 
         power = .8, distribution = 'normal')
```

### <a id = 'dumb'>dumb stuff</a>

```{r dumb stuff, fig.width=8, fig.height=3.5, fig.cap='Color functions'}
## sparkbar

## ?spark
spark(rpois(10, 3))
## color functions
par(mfrow = c(1, 3), pch = 20, bg = 'snow', mar = c(3,3,3,2))
plot(1:10, col = grcols(10), main = 'grcols', cex = 4)
plot(1:10, col = ggcols(10), main = 'ggcols', cex = 4)
plot(rnorm(100), col = tcol(ggcols(10), 100), main = 'tcol', cex = 6)
```


```{r, eval=FALSE}
## a game

## ?witchcraft
witchcraft()

## progress bar for the anxious

## ?progress
for (ii in 1:100) {
   progress(ii / 100 * 100)
   Sys.sleep(.01)
}

## others
rescaler
ht
psum
dlt.table
zoomin
```

---

<font align = center>

<a href="mailto:raredd01@gmail.com?subject=rawr">email</a>

Most recent compile: `r as.character(format(Sys.Date(), format = '%d %B %Y'))` (`r as.character(R.Version()$version.string)`)

</font>